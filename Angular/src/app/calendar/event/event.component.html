<!-- Evento cliccabile -->
<div #content
  (click)="openModal()"
  class="has-text-centered"
  [ngClass]="getCornerClasses()"
  [ngStyle]="{ 'background-color': evento.colour }">
  <!-- {{ evento.start.time }}-{{ evento.end.time }} -->
  <p>
    @if (cornerMask === 'left') {
      <span> {{evento.start.time.slice(0, 2)}} - </span>
    }
    {{ evento.title }}
    @if (cornerMask === 'right') {
      <span> - {{evento.end.time.slice(0, 2)}} </span>
    }
  </p>
  <p>{{ evento.description }}</p>
</div>

<!-- Modale con Bulma -->
<div class="modal" [ngClass]="{ 'is-active': showModal }">
  <div class="modal-background" (click)="closeModal()"></div>
  <div class="modal-card" (click)="$event.stopPropagation()">
    <header class="modal-card-head">
      <p class="modal-card-title">Modify Event</p>
      <button class="delete" aria-label="close" (click)="closeModal()"></button>
    </header>
    <section class="modal-card-body">
      <div class="columns">
        <!-- title -->
        <div class="field column is-10">
          <label class="label" for="title">Title</label>
          <input #title class="input control" [(ngModel)]="evento.title" placeholder="Titolo evento">
        </div>
        <!-- colour -->
        <div class="field column is-2">
          <label class="label" for="colour">Colour</label>
          <input #colour class="input control" type="color" [(ngModel)]="evento.colour">
        </div>
      </div>
      <!-- when? -->
      <div class="columns">
        <!-- start -->
        <div class="field column">
          <label class="label" for="dateStart">Start Date</label>
          <input #dateStart class="input control" type="date" [(ngModel)]="evento.start.date">
        </div>
        <div class="field column">
          <label class="label" for="timeStart">Start Hour</label>
          <input #timeStart class="input control" type="time" [(ngModel)]="evento.start.time">
        </div>
        <!-- end -->
        <div class="field column">
          <label class="label" for="dateEnd">End Date</label>
          <input #dateEnd class="input control" type="date" [(ngModel)]="evento.end.date">
        </div>
        <div class="field column">
          <label class="label" for="timeEnd">End Time</label>
          <input #timeEnd class="input control" type="time" [(ngModel)]="evento.end.time">
        </div>
      </div>
      <div class="field">
        <!-- descrizione -->
        <label class="label" for="description">Description</label>
        <textarea #description class="textarea control" [(ngModel)]="evento.description"
        placeholder="Description event"></textarea>
      </div>
    </section>
    <footer class="modal-card-foot level">
      <!-- buttons -->
      <div class="level-left">
        <button class="level-item button is-success" (click)="saveEvent()">Save</button>
        <button class="level-item button" (click)="closeModal()">Cancel</button>
      </div>
      <div class="level-right">
        <button class="level-item button is-danger" (click)="deleteEvent()">Delete</button>
      </div>
    </footer>
  </div>
</div>
